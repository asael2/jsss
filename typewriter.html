<!DOCTYPE html>
<head>
  <title>Titulares</title>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
</head>
<html>

<body>

  <h1>Las Noticias</h1>
  <h2>  <a href="#" id="demo" target="_blank"></a> </h2>
  <hr>

  <button id="cargador" onclick="cargar()">Titular aleatorio</button>


  <script>

  function cargar() {

    var i = 0;
    var texto = 'ABCDEFG';
    var speed = 50;
    var enlace = "#"

    var urla = 'https://newsapi.org/v2/top-headlines?'+
      'country=co&'+
      'language=es&'+
      'apiKey=890ed3b022e44dedaae9d79d12a03426';
    
      

    $.ajax({
      url: urla,
      type: 'GET',
      success: function (res) {
        let elNum = parseInt(Math.random(0, res.articles.length) * 10)
        texto = res.articles[elNum].title;
        enlace = res.articles[elNum].url;
        $("#demo").attr("href", enlace);
        document.getElementById("demo").innerHTML = "";
        typeWriter();
      }
    });

    
    function typeWriter() {
        if (i < texto.length) {
          $("#cargador").hide();
          document.getElementById("demo").innerHTML += texto.charAt(i);
          i++;
          setTimeout(typeWriter, speed);
        }else{
          $("#cargador").show();
        }
      }

  }
  </script>

</body>

</html>